"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[539],{47539:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var l=function(){var e=this,t=e._self._c;return t("Crud",{attrs:{title:e.title,"search-option":e.searchOption,"table-option":e.tableOption},on:{search:e.search,reset:e.reset,otherBtnsClick:e.otherBtnsClick,columnClick:e.columnClick,"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange},scopedSlots:e._u([{key:"status",fn:function({row:a}){return[a.status&&1===a.status?t("span",{staticStyle:{color:"#F53F3F"}},[e._v("错误，红的")]):t("span",{staticStyle:{color:"green"}},[e._v("进行中，绿的")])]}}])})},n=[],s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"_crud"},[t("div",{staticClass:"_title"},[e._v(e._s(e.title))]),t("div",{staticClass:"_search_content"},[t("Search",{attrs:{"search-option":e.searchOption},on:{search:t=>{e.$emit("search",t)},reset:e.handleReset,otherBtnsClick:t=>{e.$emit("otherBtnsClick",t)}}})],1),t("div",{staticClass:"_table_content"},[t("Table",{attrs:{"table-option":e.tableOption},on:{columnClick:(t,a)=>{e.$emit("columnClick",t,a)},"size-change":t=>{e.$emit("size-change",t)},"current-change":t=>{e.$emit("current-change",t)}},scopedSlots:e._u([e._l(e.tableOption.tableColumn,(function(t){return{key:t.prop,fn:function({row:a}){return[e._t(t.prop,(function(){return[[e._v(" "+e._s(a[t.prop])+" ")]]}),{row:a})]}}}))],null,!0)})],1)])},r=[],o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"_search"},[e.searchOption&&Object.keys(e.searchOption).length?t("el-form",{attrs:{inline:!0,size:e.searchOption.size,"label-width":e.searchOption.labelWidth}},[e._l(e.searchOption.searchList,(function(a){return t("el-form-item",{key:a.label,attrs:{label:a.label}},["input"===a.type?[t("el-input",{attrs:{clearable:a.clearable||!0,placeholder:a.placeholder||"请输入"},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})]:"select"===a.type?[t("el-select",{attrs:{placeholder:a.placeholder||"请选择",clearable:a.clearable||!0},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}},e._l(a.optionData||[],(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)]:"date"===a.type?[t("el-date-picker",{attrs:{type:"date",placeholder:a.placeholder||"请选择",format:a.format||"yyyy 年 MM 月 dd 日","value-format":a.valueFormat||"yyyy-MM-dd"},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item.value"}})]:e._e()],2)})),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:e.searchOption.size},on:{click:e.searchClick}},[e._v("查询")]),t("el-button",{attrs:{size:e.searchOption.size},on:{click:e.resetClick}},[e._v("重置")]),e.searchOption.otherBtns&&e.searchOption.otherBtns.length>0?e._l(e.searchOption.otherBtns,(function(a,l){return t("el-button",{key:l,attrs:{size:a.size,type:a.type},on:{click:function(t){return e.otherBtnsClick(a)}}},[e._v(e._s(a.title))])})):e._e()],2)],2):e._e()],1)},i=[],c={name:"search",props:{searchOption:{type:Object,default:()=>({})}},data(){return{}},methods:{searchClick(){let e={};this.searchOption.searchList.forEach((t=>{""!==t.value&&(e[t.prop]=t.value)})),this.$emit("search",e)},resetClick(){this.$emit("reset")},otherBtnsClick(e){this.$emit("otherBtnsClick",e.prop)}},created(){}},p=c,u=a(1001),h=(0,u.Z)(p,o,i,!1,null,"5e9c2040",null),d=h.exports,b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"_table"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableOption.tableData,stripe:"",border:"","header-cell-style":{backgroundColor:"rgb(244, 244, 245)"}}},[e._l(e.tableOption.tableColumn,(function(a,l){return t("el-table-column",{key:l,attrs:{label:a.label,"min-width":a.minWidth},scopedSlots:e._u([{key:"default",fn:function({row:t}){return[e._t(a.prop,(function(){return[[e._v(" "+e._s(t[a.prop])+" ")]]}),{row:t})]}}],null,!0)})})),e.tableOption.operationColumn&&Object.keys(e.tableOption.operationColumn).length?t("el-table-column",{attrs:{fixed:e.tableOption.operationColumn.fixed,label:"操作","min-width":e.tableOption.operationColumn.minWidth},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(e.tableOption.operationColumn.btns,(function(l,n){return t("el-button",{key:n,attrs:{type:l.type,size:l.size||"small"},on:{click:()=>{e.$emit("columnClick",l.prop,a.row)}}},[e._v(e._s(l.title))])}))}}],null,!1,2170781290)}):e._e()],2),t("el-pagination",{staticStyle:{padding:"20px 0","text-align":"right"},attrs:{background:"","current-page":e.tableOption.page.currentPage,"page-sizes":[10,20,50],"page-size":e.tableOption.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableOption.page.total},on:{"size-change":t=>{e.$emit("size-change",t)},"current-change":t=>{e.$emit("current-change",t)}}})],1)},m=[],f={name:"Table",props:{tableOption:{type:Object,default:()=>({})}},data(){return{}},methods:{},created(){}},y=f,g=(0,u.Z)(y,b,m,!1,null,"60c76f63",null),v=g.exports,k={components:{Search:d,Table:v},props:{title:{type:String,default:()=>""},searchOption:{type:Object,default:()=>({})},tableOption:{type:Object,default:()=>({})}},data(){return{}},methods:{handleReset(){this.searchOption.searchList.forEach((e=>{const t=e.value;t instanceof Array?this.$set(e,"value",[]):t instanceof Object?this.$set(e,"value",{}):this.$set(e,"value","")})),this.$emit("reset")}}},_=k,C=(0,u.Z)(_,s,r,!1,null,"1d5778e2",null),O=C.exports,z={components:{Crud:O},data(){return{title:"复杂列表",searchOption:{size:"small",labelWidth:"80px",searchList:[{label:"审批人:",type:"input",value:"",prop:"user"},{label:"活动区域:",type:"select",value:"",prop:"region",optionData:[{value:"shanghai",label:"区域一"},{value:"beijing",label:"区域二",disabled:!0}]},{label:"日期:",type:"date",value:"",prop:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日",valueFormat:"yyyy-MM-dd"}],otherBtns:[{title:"导出",prop:"export",type:"danger"},{title:"下载",prop:"downLoad",type:"success"}]},tableOption:{tableColumn:[{prop:"name",label:"姓名"},{prop:"status",label:"状态"},{prop:"address",label:"描述",minWidth:"150"},{prop:"date",label:"日期",minWidth:"200"}],tableData:[{id:1,name:"张三",status:1,address:"我是描述",date:"2022-01-01"},{id:2,name:"李四",status:2,address:"我是描述2",date:"2022-01-02"}],operationColumn:{fixed:"right",minWidth:"250",btns:[{title:"编辑",prop:"edit",type:"primary",size:"small"},{title:"删除",prop:"delete",type:"danger",size:"small"},{title:"查看",prop:"dtl",type:"info",size:"small"}]},page:{currentPage:1,pageSize:10,total:20}}}},methods:{search(e){console.log(e)},reset(){console.log("重置")},otherBtnsClick(e){switch(e){case"export":console.log("我是导出");break;case"downLoad":console.log("我是下载");break;default:break}},columnClick(e,t){switch(e){case"edit":console.log("编辑",t);break;case"delete":this.$confirm("此操作将删除该数据，是否确认删除？","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$message({type:"success",message:"删除成功！"})})).catch((()=>{this.$message({type:"info",message:"已经取消删除！"})}));break;case"dtl":console.log("查看");break;default:break}},handleSizeChange(e){console.log(`每页 ${e} 条`)},handleCurrentChange(e){console.log(`当前页: ${e}`)}}},$=z,x=(0,u.Z)($,l,n,!1,null,"5b1ae974",null),w=x.exports}}]);
//# sourceMappingURL=539.44772bbc.js.map